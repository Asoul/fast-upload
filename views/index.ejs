<!-- The HTML -->
<form id="the-form" action="upload" method="post" enctype="multipart/form-data">
  <input name="file" type="file" id="the-file">
  <!-- <input type="submit" value="Upload" /> -->
</form>
<div id="btn">Click</div>
<script type="text/javascript">
// The Javascript
var form = document.getElementById('the-form');
var btn = document.getElementById('btn');
btn.onclick = function() {
  var formData = new FormData(form);
  var fileInput = document.getElementById('the-file');
  var file = fileInput.files[0];
  formData.append('file', file);

  var xhr = new XMLHttpRequest();
  // Add any event handlers here...
  xhr.open('post', form.getAttribute('action'), true);
  xhr.send(formData);

  return false; // To avoid actual submission of the form
}
</script>
