<!DOCTYPE html>
<html>
<head>
  <!-- Standard Meta -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <!-- Site Properities -->
  <title>Chatchat</title>
</head>
<body>
  <form enctype="multipart/form-data">
    <input name="file" type="file">
  </form>
  <div>Upload</div>
  <script type="text/javascript">
  // The Javascript
  var form = document.getElementsByTagName('form')[0];
  document.getElementsByTagName("div")[0].onclick = function() {
    console.log("here");
    var formData = new FormData(form);
    var fileInput = document.getElementsByTagName('input')[0];
    // var file = fileInput.files[0];
    // formData.append('file', file);

    var xhr = new XMLHttpRequest();
    // Add any event handlers here...
    xhr.open('post', 'upload', true);
    xhr.send(formData);

    return false; // To avoid actual submission of the form
  }
  </script>

</body>