{
  "name": "multer-autoreap",
  "version": "0.0.8",
  "description": "Connect middleware providing auto gc of tmp uploaded files by multer or any multipart middleware.",
  "main": "index.js",
  "scripts": {
    "test": "mocha"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/joelabair/multer-autoreap.git"
  },
  "keywords": [
    "multer",
    "multipart",
    "form-data",
    "express",
    "middleware",
    "gc",
    "reap",
    "reaper"
  ],
  "author": {
    "name": "Joel A. Bair",
    "email": "joel.a.bair@gmail.com"
  },
  "license": "GPLv3",
  "bugs": {
    "url": "https://github.com/joelabair/multer-autoreap/issues"
  },
  "dependencies": {
    "debug": "~1.0.2",
    "finished": "~1.2.2"
  },
  "devDependencies": {
    "chai": "~1.9.1",
    "mocha": "~1.20.1",
    "supertest": "~0.13.0",
    "express": "~4.4.4",
    "multer": "~0.1.0"
  },
  "readme": "multer-autoreap\n===============\n\nExpress middleware for reaping uploaded files saved to disk by multer or any multipart middleware propagating the req.files object.  The middleware will automatically remove any uploaded files left in their temporary location upon response end or close.\n\n\n#### Installation\n\n`$ npm install multer-autoreap`\n\n\n\n#### Usage\n```js\nvar express = require('express');\nvar multer  = require('multer');\nvar autoReap  = require('multer-autoreap');\n\nvar app = express();\napp.use(multer({ dest: '/tmp/' }));\napp.use(autoReap);\n...\n```\n\n\n[Multer](https://github.com/expressjs/multer) is an efficient `multipart/form-data` handling middleware that uses [busboy](https://github.com/mscdex/busboy).  Files encoded in a miltipart request body are piped to a temporary upload location (def: multer options dest ).  This can have the effect of leaving open an attack vector where disk space can be consumed by these temporary files.  Its prudent and generally good form to clean them up.  While [reap](https://github.com/visionmedia/reap) cleans based on age, multer-autoreap cleans them up as soon as the request is done.\n\n####Options\n```js\nautoReap.options = {\n\treapOnError: true\n};\n```\n* *reapOnError* (boolean) - If an error occurs, continue reaping the file, or no.\n```js\nvar autoReap  = require('multer-autoreap');\nautoReap.options.reapOnError = false;\n```\n\n\n#### Events\nThe middleware will emit an 'autoreap' event on the Response object when removing files.  The event will include the original file object from req.files[].\n```js\nres.on('autoreap', function(reapedFile) {\n\tconsole.log(reapedFile);\n});\n```\n\nPlease report any issues...\n",
  "readmeFilename": "README.md",
  "homepage": "https://github.com/joelabair/multer-autoreap",
  "_id": "multer-autoreap@0.0.8",
  "dist": {
    "shasum": "2ef551b69af2d5cff74746e07dfdf74a50926340"
  },
  "_from": "multer-autoreap@",
  "_resolved": "https://registry.npmjs.org/multer-autoreap/-/multer-autoreap-0.0.8.tgz"
}
